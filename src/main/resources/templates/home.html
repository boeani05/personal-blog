<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Blog â€“ Overview</title>
    <link rel="stylesheet" href="/assets/styles.css">
</head>
<body>

<h1>Articles</h1>


<div style="text-align: right; margin-bottom: 1rem;">
    <a sec:authorize="isAnonymous()" th:href="@{/login}">Admin Login</a>
    <div class="top-actions" sec:authorize="isAuthenticated()">
        <form th:action="@{/logout}" method="post">
            <button type="submit" class="logout-link">
                Logout
            </button>

            <input type="hidden"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}">
        </form>

        <div class="admin-info">
            <span class="welcome-text">
                Welcome, <span sec:authentication="name"></span>
            </span>

            <a th:href="@{/admin/dashboard}" class="btn">
                Dashboard
            </a>
        </div>
    </div>
</div>

<div th:if="${#lists.isEmpty(articles)}">
    <p>No articles available yet.</p>
</div>

<div th:each="article : ${articles}" class="article-card">
    <h2 th:text="${article.title}">Title</h2>
    <p class="date" th:text="${article.publishedAt}">Date</p>

    <p th:text="${article.content.length() &gt; 120 ? article.content.substring(0,120) + '...' : article.content}"></p>

    <a href="@{/public/{id}(id=${article.id})}">Read more</a>
</div>

</body>
</html>